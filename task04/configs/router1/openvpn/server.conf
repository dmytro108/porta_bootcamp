# OpenVPN Server Configuration - Router1
# Site-to-Site VPN Tunnel between LAN1 (10.10.0.0/24) and LAN2 (10.20.0.0/24)

# Network settings
dev tun0
dev-type tun

# Server mode
mode server
tls-server

# Tunnel network (VPN internal addressing - point-to-point)
ifconfig 10.8.0.1 10.8.0.2
ifconfig-pool 10.8.0.4 10.8.0.251

# Route to LAN2 - advertise to client
route 10.20.0.0 255.255.255.0

# Client configuration directory
client-config-dir /etc/openvpn/ccd

# Listen configuration
proto udp
port 1194
local 192.168.100.11

# PKI files
ca /etc/openvpn/ca.crt
cert /etc/openvpn/router1.crt
key /etc/openvpn/router1.key
dh /etc/openvpn/dh.pem
tls-crypt /etc/openvpn/ta.key

# Security
cipher AES-256-GCM
auth SHA256
tls-version-min 1.2

# Logging
verb 4
status /var/log/openvpn-status.log
log-append /var/log/openvpn.log

# Performance
keepalive 10 120
persist-key
persist-tun

# Compression (optional, can improve performance)
compress lz4-v2
push "compress lz4-v2"
